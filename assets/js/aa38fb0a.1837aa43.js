"use strict";(self.webpackChunkdev_portal_docsite=self.webpackChunkdev_portal_docsite||[]).push([[69813],{15680:(e,t,n)=>{n.d(t,{xA:()=>h,yg:()=>g});var i=n(96540);function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t){if(null==e)return{};var n,i,s=function(e,t){if(null==e)return{};var n,i,s={},r=Object.keys(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)n=r[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var c=i.createContext({}),l=function(e){var t=i.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):o(o({},t),e)),n},h=function(e){var t=l(e.components);return i.createElement(c.Provider,{value:t},e.children)},p="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return i.createElement(i.Fragment,{},t)}},m=i.forwardRef((function(e,t){var n=e.components,s=e.mdxType,r=e.originalType,c=e.parentName,h=a(e,["components","mdxType","originalType","parentName"]),p=l(n),m=s,g=p["".concat(c,".").concat(m)]||p[m]||d[m]||r;return n?i.createElement(g,o(o({ref:t},h),{},{components:n})):i.createElement(g,o({ref:t},h))}));function g(e,t){var n=arguments,s=t&&t.mdxType;if("string"==typeof e||s){var r=n.length,o=new Array(r);o[0]=m;var a={};for(var c in t)hasOwnProperty.call(t,c)&&(a[c]=t[c]);a.originalType=e,a[p]="string"==typeof e?e:s,o[1]=a;for(var l=2;l<r;l++)o[l]=n[l];return i.createElement.apply(null,o)}return i.createElement.apply(null,n)}m.displayName="MDXCreateElement"},78318:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>d,frontMatter:()=>r,metadata:()=>a,toc:()=>l});var i=n(58168),s=(n(96540),n(15680));const r={title:"Permissioning",sidebar_label:"Permissioning",sidebar_position:14,slug:"/ibc/permissioning"},o="Permissioning",a={unversionedId:"docs/ibc/permissioning",id:"docs/ibc/permissioning",title:"Permissioning",description:"IBC is designed at its base level to be a permissionless protocol. This does not mean that chains cannot add in permissioning on top of IBC. In ibc-go this can be accomplished by implementing and wiring an ante-decorator that checks if the IBC message is signed by a permissioned authority. If the signer address check passes, the tx can go through; otherwise it is rejected from the mempool.",source:"@site/ibc-go/docs/01-ibc/14-permissioning.md",sourceDirName:"docs/01-ibc",slug:"/ibc/permissioning",permalink:"/ibc-go/next/ibc/permissioning",draft:!1,tags:[],version:"current",sidebarPosition:14,frontMatter:{title:"Permissioning",sidebar_label:"Permissioning",sidebar_position:14,slug:"/ibc/permissioning"},sidebar:"defaultSidebar",previous:{title:"Best Practices",permalink:"/ibc-go/next/ibc/best-practices"},next:{title:"Overview",permalink:"/ibc-go/next/apps/transfer/overview"}},c={},l=[{value:"Best practices",id:"best-practices",level:2},{value:"Genesis setup",id:"genesis-setup",level:2}],h={toc:l},p="wrapper";function d(e){let{components:t,...n}=e;return(0,s.yg)(p,(0,i.A)({},h,n,{components:t,mdxType:"MDXLayout"}),(0,s.yg)("h1",{id:"permissioning"},"Permissioning"),(0,s.yg)("p",null,"IBC is designed at its base level to be a permissionless protocol. This does not mean that chains cannot add in permissioning on top of IBC. In ibc-go this can be accomplished by implementing and wiring an ante-decorator that checks if the IBC message is signed by a permissioned authority. If the signer address check passes, the tx can go through; otherwise it is rejected from the mempool."),(0,s.yg)("p",null,"The antehandler runs before message-processing so it acts as a customizable filter that can reject messages before they get included in the block. The Cosmos SDK allows developers to write ante-decorators that can be stacked with others to add multiple independent customizable filters that run in sequence. Thus, chain developers that want to permission IBC messages are advised to implement their own custom permissioned IBC ante-decorator to add to the standard ante-decorator stack."),(0,s.yg)("h2",{id:"best-practices"},"Best practices"),(0,s.yg)("p",null,(0,s.yg)("inlineCode",{parentName:"p"},"MsgCreateClient"),": permissioning the client creation is the most important for permissioned IBC. This will prevent malicious relayers from creating clients to fake chains. If a chain wants to control which chains are connected to it directly over IBC, the best way to do this is by controlling which clients get created. The permissioned authority can create clients only of counterparties that the chain approves of. The permissioned authority can be the governance account, however ",(0,s.yg)("inlineCode",{parentName:"p"},"MsgCreateClient")," contains a consensus state that can be expired by the time governance passes the proposal to execute the message. Thus, if the voting period is longer than the unbonding period of the counterparty, it is advised to use a permissioned authority that can immediately execute the transaction (e.g. a trusted multisig)."),(0,s.yg)("p",null,(0,s.yg)("inlineCode",{parentName:"p"},"MsgConnectionOpenInit"),": permissioning this message will give the chain control over the connections that are opened and also will control which connection identifier is associated with which counterparty."),(0,s.yg)("p",null,(0,s.yg)("inlineCode",{parentName:"p"},"MsgConnectionOpenTry"),": permissioning this message through a permissioned address check is ill-advised because it will prevent relayers from easily completing the handshake that was initialized on the counterparty. However, if the chain does want strict control of exactly which connections are opened, it can permission this message. Be aware, if two chains with strict permissions try to open a connection it may take much longer than expected."),(0,s.yg)("p",null,(0,s.yg)("inlineCode",{parentName:"p"},"MsgChannelOpenInit"),": permissioning this message will give the chain control over the channels that are opened and also will control which channel identifier is associated with which counterparty."),(0,s.yg)("p",null,(0,s.yg)("inlineCode",{parentName:"p"},"MsgChannelOpenTry"),": permissioning this message through a permissioned address check is ill-advised because it will prevent relayers from easily completing the handshake that was initialized on the counterparty. However, if the chain does want strict control of exactly which channels are opened, it can permission this message. Be aware, if two chains with strict permissions try to open a channel it may take much longer than expected."),(0,s.yg)("p",null,"It is not advised to permission any other message from ibc-go. Permissionless relayers should still be allowed to complete handshakes that were authorized by permissioned parties, and to relay user packets on channels that were also authorized by permissioned parties. This provides the maximum liveness provided by a permissionless relayer network with the safety guarantees provided by permissioned client, connection, and channel creation."),(0,s.yg)("h2",{id:"genesis-setup"},"Genesis setup"),(0,s.yg)("p",null,"Chains that are starting up from genesis have the option of initializing authorized clients, connections and channels from genesis. This allows chains to automatically connect to desired chains with a desired identifier."),(0,s.yg)("p",null,"Note: The chain must be launched soon after the genesis file is created so that the client creation does not occur with an expired consensus state. The connections and channels must also simply have their ",(0,s.yg)("inlineCode",{parentName:"p"},"INIT")," messages executed so that relayers can complete the rest of the handshake."))}d.isMDXComponent=!0}}]);